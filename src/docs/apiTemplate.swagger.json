{
	"swagger": "2.0",
	"info": {
		"description": "The API for viewing or editting projects managed by the SubPar-project tracker",
		"version": "0.0.1",
		"title": "SubPar-project tracker",
		"contact": {
			"name": "Chrolo @ DameDesuYo",
			"url": "http://github.com/Chrolo/subpar-project-tracker"
		}
	},
	"securityDefinitions": {
        "api_key": {
            "type":"apiKey",
            "name":"api_key",
            "in":"header"
        }
    },
    "security": [
        {
            "api_key":[]
        }
    ],
	"paths": {
		"/projects": {
			"get": {
				"summary": "get a list of project names",
				"description": "get an array of project names currently on the system. Can (will later) include url parameters search to filter results",
				"produces": ["application/json"],
				"parameters": [
                    {
    					"name": "name",
    					"in": "query",
    					"description": "The name to search by. Can be shorthand",
    					"type": "string"
    				},
                    {
    					"name": "projectType",
    					"in": "query",
    					"description": "The type of project to filter by",
    					"type": "string",
    					"enum": ["TV", "BD"]
    				},
                    {
    					"name": "year",
    					"in": "query",
    					"description": "The year it was released (based on season it began airing / was release on sale)",
    					"type": "integer"
                    }
                ],
				"responses": {
					"200": {
						"description": "List of project names, filtered by any applied queries",
						"schema": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					}
				}
			},
			"post": {
				"summary": "Add a new project",
				"description": "Add a new project to the database.",
				"produces": ["application/json"],
				"parameters": [
                    {
    					"name": "project",
    					"in": "body",
    					"description": "The details of the project to be added",
    					"schema": {
    						"$ref": "#definitions/projectTemplate_schema.json"
    					}
    				}
                ],
				"responses": {
					"200": {
						"description": "Project was added to database"
					},
					"403": {
						"description": "You don't have permission to add new projects to the database"
					}
				}
			}
		},
		"/projects/:projectName": {
			"get": {
				"summary": "get project details",
				"description": "get project details.",
				"produces": ["application/json"],
				"responses": {
					"200": {
						"description": "project details",
						"schema": {
							"$ref": "#/definitions/project_schema.json"
						}
					}
				}
			}
		},
		"/projects/:projectName/episodes/:episode": {
			"get": {
				"summary": "Get information about an episode of a project",
				"description": "Get a JSON object representing information about that project.",
				"produces": ["application/json"],
				"responses": {
					"200": {
						"description": "episode information",
						"schema": {
							"$ref": "#/definitions/episodeFile_schema.json"
						}
					},
					"404": {
						"description": "Project not found"
					}
				}
			}
		},
		"/projects/:projectName/episodes/:episodeNumber/tasks/:taskName": {
			"patch": {
				"summary": "update the status of a task",
				"description": "edit the status of a task",
                "consumes": ["application/json"],
				"parameters": [
                    {
						"name": "body",
						"in": "body",
						"description": "changes to the task",
                        "schema": {
                            "$ref": "#/definitions/taskUpdatePatch_schema.json"
                        }
					}
				],
				"responses": {
					"200": {
						"description": "task status updated successfully"
					},
					"403": {
						"description": "You are not authorised to adjust that task"
					}
				}
			}
		}
	},
	"definitions": {
	}
}
